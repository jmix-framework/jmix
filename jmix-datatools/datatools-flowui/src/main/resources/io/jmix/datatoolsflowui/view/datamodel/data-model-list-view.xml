<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
      title="msg://entityModelListView.title"
      focusComponent="entityModelsDataGrid">
    <data>
        <collection id="entityModelsDc"
                    class="io.jmix.datatools.datamodel.entity.EntityModel">
            <loader id="entityModelsDl" readOnly="true"/>
        </collection>
        <collection id="attributeModelsDc"
                    class="io.jmix.datatools.datamodel.entity.AttributeModel">
            <loader id="attributeModelsDl" readOnly="true"/>
        </collection>
    </data>
    <facets>
        <dataLoadCoordinator auto="true"/>
        <settings auto="true"/>
        <urlQueryParameters id="entityNameFilterQueryParameters"/>
    </facets>
    <actions>
        <action id="selectAction" type="lookup_select"/>
        <action id="discardAction" type="lookup_discard"/>
    </actions>
    <layout alignItems="STRETCH"
            expand="contentBox"
            classNames="jmix-data-model-list-view-layout">
            <hbox id="buttonsPanel" classNames="buttons-panel">
                <p text="msg://entityModelListView.buttonsPanel.title"/>
                <textField id="entityNameFilter" datatype="string" minWidth="35em"
                           placeholder="msg://entityModelListView.entityNameFilter.placeholder.text"
                           clearButtonVisible="true">
                    <tooltip text="msg://entityModelListView.entityNameFilter.tooltip.text"
                             manual="false" position="END_BOTTOM"/>
                </textField>
                <button id="searchButton" icon="vaadin:search" text="msg://entityModelListView.searchButton.text"/>
                <button id="diagramButton" icon="vaadin:sitemap" text="msg://entityModelListView.diagramButton.text"/>
                <checkbox id="showSystemCheckBox" label="msg://io.jmix.datatoolsflowui.view.datamodel/entityModelListView.showSystemEntities.text"
                          alignSelf="CENTER" value="false"/>
            </hbox>
        <flexLayout id="contentBox" classNames="jmix-data-model-list-view-content-wrapper">
            <vbox css="flex-grow: 1;" padding="false" width="unset">
                <h4 text="msg://entityModelListView.entityModelsDataGrid.title"/>
                <dataGrid id="entityModelsDataGrid"
                          width="100%"
                          minHeight="20em"
                          dataContainer="entityModelsDc"
                          columnReorderingAllowed="true" height="100%" alignSelf="START">
                    <columns resizable="true">
                        <column property="name"/>
                        <column property="dataStore"/>
                        <column property="tableName"/>
                    </columns>
                </dataGrid>
            </vbox>
            <vbox css="flex-grow: 2;" padding="false" width="unset">
                <h4 text="msg://entityModelListView.attributeModelsDataGrid.title"/>
                <dataGrid id="attributeModelsDataGrid"
                          width="100%"
                          minHeight="20em"
                          dataContainer="attributeModelsDc"
                          columnReorderingAllowed="true" height="100%" ariaLabel="Entities" alignSelf="START"
                          selectionMode="NONE">
                    <columns resizable="true">
                        <column property="attributeName"/>
                        <column property="javaType"/>
                        <column property="columnName"/>
                        <column property="dbType" flexGrow="2"/>
                        <column property="isNullable" textAlign="CENTER" flexGrow="0" autoWidth="true"/>
                        <column property="isMandatory" textAlign="CENTER" flexGrow="0" autoWidth="true"/>
                    </columns>
                </dataGrid>
            </vbox>
        </flexLayout>
    </layout>
</view>
