/*
 * Copyright 2026 Haulmont.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@media lumo_components_jmix_value_picker_button {

    /* Ex Base styles */
    :host {
        display: inline-block;
        position: relative;
        outline: none;
        white-space: nowrap;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
    }

    :host([hidden]) {
        display: none !important;
    }

    /* Aligns the button with form fields when placed on the same line.
    Note, to make it work, the form fields should have the same "::before" pseudo-element. */

    .value-picker-button-container::before {
        content: '\2003';
        display: inline-block;
        width: 0;
    }

    .value-picker-button-container {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        width: 100%;
        height: 100%;
        min-height: inherit;
        text-shadow: inherit;
        background: transparent;
        padding: 0;
        border: none;
        box-shadow: none;
    }

    [part='icon'] {
        flex: none;
    }

    /* Lumo styles */
    :host {
        /* Sizing */
        --lumo-button-size: var(--lumo-size-s);
        min-width: var(--lumo-button-size);
        height: var(--lumo-button-size);
        box-sizing: border-box;

        /* Style */
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        font-weight: 500;
        color: var(--_lumo-button-color, var(--lumo-primary-text-color));
        background-color: var(--_lumo-button-background-color, var(--lumo-contrast-5pct));
        border-radius: var(--lumo-border-radius-m);
        cursor: var(--lumo-clickable-cursor);
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Set only for the internal parts so we donâ€™t affect the host vertical alignment */
    [part='icon'] {
        line-height: var(--lumo-line-height-xs);
    }

    /* For interaction states */
    :host::before,
    :host::after {
        content: '';
        /* We rely on the host always being relative */
        position: absolute;
        z-index: 1;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: currentColor;
        border-radius: inherit;
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
    }

    /* Hover */
    @media (any-hover: hover) {
        :host(:hover)::before {
            opacity: 0.02;
        }
    }

    /* Active */
    :host::after {
        transition: opacity 1.4s, transform 0.1s;
        filter: blur(8px);
    }

    :host([active])::before {
        opacity: 0.05;
        transition-duration: 0s;
    }

    :host([active])::after {
        opacity: 0.1;
        transition-duration: 0s, 0s;
        transform: scale(0);
    }

    /* Keyboard focus */
    :host([focus-ring]) {
        box-shadow: 0 0 0 2px var(--lumo-primary-color-50pct);
    }

    /* Disabled state. Keep selectors after other color variants. */
    :host([disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
    }

    /* Icons */
    [part] ::slotted(vaadin-icon),
    [part] ::slotted(iron-icon) {
        display: inline-block;
        width: var(--lumo-icon-size-m);
        height: var(--lumo-icon-size-m);
    }

    /* Vaadin icons are based on a 16x16 grid (unlike Lumo and Material icons with 24x24), so they look too big by default */
    [part] ::slotted(vaadin-icon[icon^='vaadin:']),
    [part] ::slotted(iron-icon[icon^='vaadin:']) {
        padding: 0.25em;
        box-sizing: border-box !important;
    }
}