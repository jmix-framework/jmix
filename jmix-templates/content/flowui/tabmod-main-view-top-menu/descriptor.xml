<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<mainView xmlns="http://jmix.io/schema/tabmod/main-view"
          title="${messageKeys['mainViewTopMenuTitle']}">
    <actions>
        <%if (createUserMenu) {%>
        <action id="logoutAction" text="msg:///actions.logout.text" type="logout"/>
        <%} else {%>
        <action id="logoutAction" type="logout"/>
        <%}%>
    </actions>
    <appLayout classNames="jmix-main-view-top-menu-app-layout">
        <navigationBar>
            <vbox id="navigationBarBox"
                  classNames="jmix-main-view-top-menu-navigation-bar-box">
                <header id="navigationHeader"
                        classNames="jmix-main-view-top-menu-header">
                    <image id="logoImage"
                           resource="icons/icon.png"
                           classNames="jmix-main-view-top-menu-logo mx-m"/>
                    <nav id="navigation"
                         classNames="jmix-main-view-top-menu-navigation">
                        <horizontalMenu id="horizontalMenu"
                                        tabNavigation="true"
                                        width="100%"/>
                    </nav>
                    <%if (createUserMenu) {%>
                    <userMenu id="userMenu"
                              themeNames="tertiary" classNames="ms-auto me-m">
                        <items>
                            <separator/>
                            <actionItem id="substituteUserMenuItem"
                                        themeNames="non-checkable">
                                <action id="substituteUserAction" type="sec_userMenuSubstituteUser"/>
                            </actionItem>
                            <separator/>
                            <actionItem id="logoutMenuItem" ref="logoutAction"
                                        themeNames="non-checkable"/>
                        </items>
                    </userMenu>
                    <%} else {%>
                    <hbox id="userHeaderBox"
                          classNames="jmix-main-view-top-menu-user-box">
                        <userIndicator id="userIndicator"/>
                        <button id="logoutButton"
                                action="logoutAction"
                                classNames="jmix-logout-button"/>
                    </hbox>
                    <%}%>
                </header>
            </vbox>
        </navigationBar>
        <workArea id="workArea"
                  classNames="jmix-work-area">
            <mainTabSheet id="mainTabSheet"
                          classNames="jmix-main-tabsheet"
                          tabsDraggable="true"
                          width="100%" height="100%">
                <actions>
                    <action id="closeThisTabAction" type="tabmod_closeThisTab"/>
                    <action id="closeOthersTabsAction" type="tabmod_closeOtherTabs"/>
                    <action id="closeAllTabsAction" type="tabmod_closeAllTabs"/>
                </actions>
            </mainTabSheet>
            <initialLayout id="initialLayout"
                           classNames="jmix-initial-layout"
                           alignItems="CENTER" justifyContent="CENTER"
                           width="100%" height="100%">
                <vbox alignItems="CENTER" maxWidth="40em" >
                    <image resource="icons/icon.png" height="5rem"/>
                    <h1 text="${messageKeys['applicationTitleText']}"/>
                </vbox>
                <!--
                    This is the work area - central part of the view.
                    Put your components here.
                -->
            </initialLayout>
        </workArea>
    </appLayout>
</mainView>